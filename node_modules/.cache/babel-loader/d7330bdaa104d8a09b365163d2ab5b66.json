{"ast":null,"code":"var _this = this,\n    _jsxFileName = \"/home/matteo/code/bookit/src/components/BookmarkLike.js\";\n\nimport React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport { BOOKMARK_LIKE, GET_BOOKMARKS } from \"../queries\";\n\nvar BookmarkLike = function BookmarkLike(_ref) {\n  var id = _ref.id,\n      likes = _ref.likes;\n  return /*#__PURE__*/React.createElement(Mutation, {\n    mutation: BOOKMARK_LIKE,\n    update: function update(cache, _ref2) {\n      var likeBookmark = _ref2.data.likeBookmark;\n      var data = cache.readQuery({\n        query: GET_BOOKMARKS\n      });\n      data.bookmarks.forEach(function (bookmark) {\n        if (bookmark.id === id) {\n          bookmark.likes = likeBookmark.likes;\n        }\n      });\n      cache.writeQuery({\n        query: GET_BOOKMARKS,\n        data: data\n      });\n    },\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 7,\n      columnNumber: 5\n    }\n  }, function (likeBookmark) {\n    return /*#__PURE__*/React.createElement(\"i\", {\n      className: \"fas fa-heart has-text-danger\",\n      onClick: function onClick() {\n        likeBookmark({\n          variables: {\n            id: id\n          },\n          optimisticResponse: {\n            __typename: \"Mutation\",\n            likeBookmark: {\n              id: id,\n              __typename: \"Bookmark\",\n              likes: likes + 1\n            }\n          }\n        });\n      },\n      __self: _this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 24,\n        columnNumber: 11\n      }\n    });\n  });\n};\n\nexport default BookmarkLike;","map":{"version":3,"sources":["/home/matteo/code/bookit/src/components/BookmarkLike.js"],"names":["React","Mutation","BOOKMARK_LIKE","GET_BOOKMARKS","BookmarkLike","id","likes","cache","likeBookmark","data","readQuery","query","bookmarks","forEach","bookmark","writeQuery","variables","optimisticResponse","__typename"],"mappings":";;;AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,cAAzB;AACA,SAASC,aAAT,EAAwBC,aAAxB,QAA6C,YAA7C;;AAEA,IAAMC,YAAY,GAAG,SAAfA,YAAe,OAAmB;AAAA,MAAhBC,EAAgB,QAAhBA,EAAgB;AAAA,MAAZC,KAAY,QAAZA,KAAY;AACtC,sBACE,oBAAC,QAAD;AACE,IAAA,QAAQ,EAAEJ,aADZ;AAEE,IAAA,MAAM,EAAE,gBAACK,KAAD,SAAuC;AAAA,UAArBC,YAAqB,SAA7BC,IAA6B,CAArBD,YAAqB;AAC7C,UAAMC,IAAI,GAAGF,KAAK,CAACG,SAAN,CAAgB;AAAEC,QAAAA,KAAK,EAAER;AAAT,OAAhB,CAAb;AACAM,MAAAA,IAAI,CAACG,SAAL,CAAeC,OAAf,CAAuB,UAAAC,QAAQ,EAAI;AACjC,YAAIA,QAAQ,CAACT,EAAT,KAAgBA,EAApB,EAAwB;AACtBS,UAAAA,QAAQ,CAACR,KAAT,GAAiBE,YAAY,CAACF,KAA9B;AACD;AACF,OAJD;AAKAC,MAAAA,KAAK,CAACQ,UAAN,CAAiB;AACfJ,QAAAA,KAAK,EAAER,aADQ;AAEfM,QAAAA,IAAI,EAAJA;AAFe,OAAjB;AAID,KAbH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,KAeG,UAAAD,YAAY,EAAI;AACf,wBACE;AACE,MAAA,SAAS,EAAC,8BADZ;AAEE,MAAA,OAAO,EAAE,mBAAM;AACbA,QAAAA,YAAY,CAAC;AACXQ,UAAAA,SAAS,EAAE;AAAEX,YAAAA,EAAE,EAAFA;AAAF,WADA;AAEXY,UAAAA,kBAAkB,EAAE;AAClBC,YAAAA,UAAU,EAAE,UADM;AAElBV,YAAAA,YAAY,EAAE;AACZH,cAAAA,EAAE,EAAFA,EADY;AAEZa,cAAAA,UAAU,EAAE,UAFA;AAGZZ,cAAAA,KAAK,EAAEA,KAAK,GAAG;AAHH;AAFI;AAFT,SAAD,CAAZ;AAWD,OAdH;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADF;AAkBD,GAlCH,CADF;AAsCD,CAvCD;;AAyCA,eAAeF,YAAf","sourcesContent":["import React from \"react\";\nimport { Mutation } from \"react-apollo\";\nimport { BOOKMARK_LIKE, GET_BOOKMARKS } from \"../queries\";\n\nconst BookmarkLike = ({ id, likes }) => {\n  return (\n    <Mutation\n      mutation={BOOKMARK_LIKE}\n      update={(cache, { data: { likeBookmark } }) => {\n        const data = cache.readQuery({ query: GET_BOOKMARKS });\n        data.bookmarks.forEach(bookmark => {\n          if (bookmark.id === id) {\n            bookmark.likes = likeBookmark.likes;\n          }\n        });\n        cache.writeQuery({\n          query: GET_BOOKMARKS,\n          data\n        });\n      }}\n    >\n      {likeBookmark => {\n        return (\n          <i\n            className=\"fas fa-heart has-text-danger\"\n            onClick={() => {\n              likeBookmark({\n                variables: { id },\n                optimisticResponse: {\n                  __typename: \"Mutation\",\n                  likeBookmark: {\n                    id,\n                    __typename: \"Bookmark\",\n                    likes: likes + 1\n                  }\n                }\n              });\n            }}\n          />\n        );\n      }}\n    </Mutation>\n  );\n};\n\nexport default BookmarkLike;\n"]},"metadata":{},"sourceType":"module"}