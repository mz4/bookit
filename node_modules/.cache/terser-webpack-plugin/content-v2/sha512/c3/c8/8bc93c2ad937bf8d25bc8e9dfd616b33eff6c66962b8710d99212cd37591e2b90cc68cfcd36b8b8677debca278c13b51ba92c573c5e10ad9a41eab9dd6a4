{"map":"{\"version\":3,\"sources\":[\"/home/matteo/code/bookit/src/components/Header.js\",\"/home/matteo/code/bookit/src/components/Container.js\",\"/home/matteo/code/bookit/src/hooks/useLoading.js\",\"/home/matteo/code/bookit/src/queries/index.js\",\"/home/matteo/code/bookit/src/components/BookmarkCreate.js\",\"/home/matteo/code/bookit/src/components/Loading.js\",\"/home/matteo/code/bookit/src/components/BookmarkUpdate.js\",\"/home/matteo/code/bookit/src/components/BookmarkDelete.js\",\"/home/matteo/code/bookit/src/components/BookmarkLike.js\",\"/home/matteo/code/bookit/src/components/BookmarkItem.js\",\"/home/matteo/code/bookit/src/components/BookmarkList.js\",\"/home/matteo/code/bookit/src/components/App.js\",\"/home/matteo/code/bookit/src/index.js\"],\"names\":[\"Header\",\"react_default\",\"a\",\"createElement\",\"className\",\"Link\",\"to\",\"Container\",\"_ref\",\"children\",\"components_Header\",\"useLoading\",\"classList\",\"arguments\",\"length\",\"undefined\",\"_useState\",\"useState\",\"_useState2\",\"Object\",\"slicedToArray\",\"loadingButton\",\"isLoading\",\"_loadingButton$classL\",\"_loadingButton$classL2\",\"disabled\",\"add\",\"apply\",\"toConsumableArray\",\"remove\",\"ADD_BOOKMARK\",\"gql\",\"_templateObject\",\"GET_BOOKMARKS\",\"_templateObject2\",\"DELETE_BOOKMARK\",\"_templateObject3\",\"GET_BOOKMARK\",\"_templateObject4\",\"BOOKMARK_LIKE\",\"_templateObject5\",\"UPDATE_BOOKMARK\",\"_templateObject6\",\"BookmarkCreate\",\"props\",\"_useLoading\",\"_useLoading2\",\"setLoadingButton\",\"setLoadingState\",\"content\",\"setContent\",\"react_apollo_browser_umd\",\"mutation\",\"update\",\"cache\",\"addBookmark\",\"data\",\"bookmarks\",\"readQuery\",\"query\",\"writeQuery\",\"concat\",\"objectSpread\",\"likes\",\"e\",\"onSubmit\",\"preventDefault\",\"variables\",\"autoCorrect\",\"autoCapitalize\",\"type\",\"onChange\",\"target\",\"value\",\"ref\",\"Loading\",\"BookmarkUpdate\",\"bookmark\",\"id\",\"_ref2\",\"loading\",\"error\",\"components_Loading\",\"refetchQueries\",\"updateBookmark\",\"placeholder\",\"DeleteBookmark\",\"deleteBookmark\",\"filter\",\"onClick\",\"ID\",\"BookmarkLike\",\"likeBookmark\",\"forEach\",\"optimisticResponse\",\"__typename\",\"BookmarkItem\",\"onUpdate\",\"components_BookmarkLike\",\"href\",\"BookmarkDelete\",\"BookmarkList\",\"message\",\"Fragment\",\"map\",\"components_BookmarkItem\",\"assign\",\"key\",\"history\",\"push\",\"style\",\"float\",\"App\",\"HashRouter\",\"components_Container\",\"Route\",\"exact\",\"path\",\"component\",\"render\",\"components_BookmarkUpdate\",\"match\",\"params\",\"InMemoryCache\",\"dataIdFromObject\",\"object\",\"client\",\"ApolloClient\",\"uri\",\"Root\",\"components_App\",\"ReactDOM\",\"src_Root\",\"document\",\"querySelector\"],\"mappings\":\"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\",\"sourcesContent\":[\"import React from \\\"react\\\";\\nimport { Link } from \\\"react-router-dom\\\";\\n\\nconst Header = () => (\\n  <nav className=\\\"level\\\">\\n    <ul className=\\\"level-left\\\">\\n      <li className=\\\"level-item\\\">\\n        <Link to=\\\"/\\\">Home</Link>\\n      </li>\\n      <li className=\\\"level-item\\\">\\n        <Link to=\\\"/bookmarks/new\\\">Create</Link>\\n      </li>\\n    </ul>\\n  </nav>\\n);\\n\\nexport default Header;\\n\",\"import React from \\\"react\\\";\\nimport Header from \\\"./Header\\\";\\n\\nconst Container = ({ children }) => (\\n  <div className=\\\"container\\\">\\n    <Header />\\n    {children}\\n  </div>\\n);\\nexport default Container;\\n\",\"import React, { useState } from \\\"react\\\";\\n\\nexport default ({ classList } = []) => {\\n  const [loadingButton, setLoadingButton] = useState(null);\\n  const setLoadingState = isLoading => {\\n    loadingButton.disabled = isLoading;\\n    isLoading\\n      ? loadingButton.classList.add(...classList)\\n      : loadingButton.classList.remove(...classList);\\n  };\\n  return [setLoadingButton, setLoadingState];\\n};\\n\",\"import gql from \\\"graphql-tag\\\";\\n\\nconst ADD_BOOKMARK = gql`\\n  mutation AddBookmark($content: String!) {\\n    addBookmark(content: $content) {\\n      id\\n      content\\n    }\\n  }\\n`;\\n\\nconst GET_BOOKMARKS = gql`\\n  {\\n    bookmarks {\\n      id\\n      content\\n      likes\\n    }\\n  }\\n`;\\n\\nconst DELETE_BOOKMARK = gql`\\n  mutation DeleteBookmark($ID: ID) {\\n    deleteBookmark(id: $ID) {\\n      id\\n    }\\n  }\\n`;\\n\\nconst GET_BOOKMARK = gql`\\n  query Bookmark($id: ID!) {\\n    bookmark(id: $id) {\\n      id\\n      content\\n      likes\\n    }\\n  }\\n`;\\n\\nconst BOOKMARK_LIKE = gql`\\n  mutation BookmarkLike($id: ID) {\\n    likeBookmark(id: $id) {\\n      id\\n      likes\\n    }\\n  }\\n`;\\n\\nconst UPDATE_BOOKMARK = gql`\\n  mutation UpdateBookmark($id: ID!, $content: String!) {\\n    updateBookmark(id: $id, content: $content) {\\n      id\\n    }\\n  }\\n`;\\n\\nexport { BOOKMARK_LIKE, GET_BOOKMARK, DELETE_BOOKMARK, GET_BOOKMARKS, ADD_BOOKMARK, UPDATE_BOOKMARK };\\n\",\"import { Mutation } from \\\"react-apollo\\\";\\nimport React, { useState } from \\\"react\\\";\\nimport useLoading from \\\"../hooks/useLoading\\\";\\nimport { ADD_BOOKMARK, GET_BOOKMARKS } from \\\"../queries\\\";\\nconst BookmarkCreate = props => {\\n  const [setLoadingButton, setLoadingState] = useLoading({\\n    classList: [\\\"is-loading\\\", \\\"no-border\\\"]\\n  });\\n  const [content, setContent] = useState(\\\"\\\");\\n\\n  return (\\n    <Mutation\\n      mutation={ADD_BOOKMARK}\\n      update={(cache, { data: { addBookmark } }) => {\\n        try {\\n          const { bookmarks } = cache.readQuery({ query: GET_BOOKMARKS });\\n          cache.writeQuery({\\n            query: GET_BOOKMARKS,\\n            data: { bookmarks: bookmarks.concat([{ ...addBookmark, likes: 0 }]) }\\n          });\\n        } catch (e) {\\n        } finally {\\n          setLoadingState(false);\\n        }\\n      }}\\n    >\\n      {addBookmark => (\\n        <div className=\\\"bookmark_form\\\">\\n          <h4 className=\\\"bookmark_form__title\\\">Add Bookmark</h4>\\n          <form\\n            onSubmit={e => {\\n              e.preventDefault();\\n              setLoadingState(true);\\n              addBookmark({ variables: { content } });\\n              setContent(\\\"\\\");\\n            }}\\n          >\\n            <div className=\\\"field\\\">\\n              <div className=\\\"control\\\">\\n                <input\\n                  autoCorrect=\\\"false\\\"\\n                  autoCapitalize=\\\"false\\\"\\n                  className=\\\"input\\\"\\n                  type=\\\"text\\\"\\n                  onChange={e => setContent(e.target.value)}\\n                />\\n              </div>\\n            </div>\\n            <button\\n              className=\\\"button is-light\\\"\\n              type=\\\"submit\\\"\\n              ref={setLoadingButton}\\n            >\\n              Create\\n            </button>\\n          </form>\\n        </div>\\n      )}\\n    </Mutation>\\n  );\\n};\\n\\nexport default BookmarkCreate;\\n\",\"import React from \\\"react\\\";\\n\\nconst Loading = () => <a className=\\\"button is-loading\\\">Loading</a>;\\n\\nexport default Loading;\\n\",\"import { Mutation, Query } from \\\"react-apollo\\\";\\nimport React, { useState } from \\\"react\\\";\\nimport Loading from \\\"./Loading\\\";\\nimport useLoading from \\\"./../hooks/useLoading\\\";\\n\\nimport { UPDATE_BOOKMARK, GET_BOOKMARKS, GET_BOOKMARK } from \\\"../queries\\\";\\nconst BookmarkUpdate = ({ bookmark }) => {\\n  const [setLoadingButton, setLoadingState] = useLoading({\\n    classList: [\\\"is-loading\\\", \\\"no-border\\\"]\\n  });\\n  const [content, setContent] = useState(\\\"\\\");\\n\\n  return (\\n    <Query query={GET_BOOKMARK} variables={{ id: bookmark.id }}>\\n      {({ loading, error, data: { bookmark } }) => {\\n        if (loading) return <Loading />;\\n        if (error) return `Error!: ${error}`;\\n        return (\\n          <Mutation\\n            mutation={UPDATE_BOOKMARK}\\n            refetchQueries={[{ query: GET_BOOKMARKS }]}\\n            update={() => setLoadingState(false)}\\n          >\\n            {updateBookmark => {\\n              return (\\n                <div className=\\\"bookmark_form\\\">\\n                  <h4 className=\\\"bookmark_form__title\\\">Update Bookmark</h4>\\n                  <form\\n                    onSubmit={e => {\\n                      e.preventDefault();\\n                      updateBookmark({\\n                        variables: { id: bookmark.id, content }\\n                      });\\n                      setLoadingState(true);\\n                      bookmark.content = content;\\n                      setContent(\\\"\\\");\\n                    }}\\n                  >\\n                    <div className=\\\"field\\\">\\n                      <div className=\\\"control\\\">\\n                        <input\\n                          autoCorrect=\\\"false\\\"\\n                          autoCapitalize=\\\"false\\\"\\n                          className=\\\"input\\\"\\n                          type=\\\"text\\\"\\n                          placeholder={bookmark.content}\\n                          onChange={e => setContent(e.target.value)}\\n                        />\\n                      </div>\\n                    </div>\\n                    <button\\n                      className=\\\"button is-light\\\"\\n                      ref={setLoadingButton}\\n                      type=\\\"submit\\\"\\n                    >\\n                      Update Bookmark\\n                    </button>\\n                  </form>\\n                </div>\\n              );\\n            }}\\n          </Mutation>\\n        );\\n      }}\\n    </Query>\\n  );\\n};\\n\\nexport default BookmarkUpdate;\\n\",\"import { Mutation } from \\\"react-apollo\\\";\\nimport React from \\\"react\\\";\\n\\nimport { DELETE_BOOKMARK, GET_BOOKMARKS } from \\\"./../queries\\\";\\nconst DeleteBookmark = ({ id }) => {\\n  return (\\n    <Mutation\\n      mutation={DELETE_BOOKMARK}\\n      update={(cache, { data: { deleteBookmark } }) => {\\n        const { bookmarks } = cache.readQuery({ query: GET_BOOKMARKS });\\n        cache.writeQuery({\\n          query: GET_BOOKMARKS,\\n          data: { bookmarks: bookmarks.filter(bookmark => bookmark.id !== id) }\\n        });\\n      }}\\n    >\\n      {deleteBookmark => (\\n        <i\\n          className=\\\"delete\\\"\\n          onClick={e => {\\n            e.target.classList.add(\\\"button\\\", \\\"is-loading\\\", \\\"no-border\\\");\\n            deleteBookmark({ variables: { ID: id } });\\n          }}\\n        >\\n          delete\\n        </i>\\n      )}\\n    </Mutation>\\n  );\\n};\\n\\nexport default DeleteBookmark;\\n\",\"import React from \\\"react\\\";\\nimport { Mutation } from \\\"react-apollo\\\";\\nimport { BOOKMARK_LIKE, GET_BOOKMARKS } from \\\"../queries\\\";\\n\\nconst BookmarkLike = ({ id, likes }) => {\\n  return (\\n    <Mutation\\n      mutation={BOOKMARK_LIKE}\\n      update={(cache, { data: { likeBookmark } }) => {\\n        const data = cache.readQuery({ query: GET_BOOKMARKS });\\n        data.bookmarks.forEach(bookmark => {\\n          if (bookmark.id === id) {\\n            bookmark.likes = likeBookmark.likes;\\n          }\\n        });\\n        cache.writeQuery({\\n          query: GET_BOOKMARKS,\\n          data\\n        });\\n      }}\\n    >\\n      {likeBookmark => {\\n        return (\\n          <i\\n            className=\\\"fas fa-heart has-text-danger\\\"\\n            onClick={() => {\\n              likeBookmark({\\n                variables: { id },\\n                optimisticResponse: {\\n                  __typename: \\\"Mutation\\\",\\n                  likeBookmark: {\\n                    id,\\n                    __typename: \\\"Bookmark\\\",\\n                    likes: likes + 1\\n                  }\\n                }\\n              });\\n            }}\\n          />\\n        );\\n      }}\\n    </Mutation>\\n  );\\n};\\n\\nexport default BookmarkLike;\\n\",\"import React from \\\"react\\\";\\nimport BookmarkDelete from \\\"./BookmarkDelete\\\";\\nimport BookmarkLike from \\\"./BookmarkLike\\\";\\n\\nconst BookmarkItem = ({ id, likes, content, onUpdate }) => (\\n  <div className=\\\"card\\\">\\n    <header className=\\\"card-header\\\">\\n      <p className=\\\"card-header-title\\\">Bookmark</p>\\n    </header>\\n    <div className=\\\"card-content\\\">\\n      <div className=\\\"content\\\">{content}</div>\\n    </div>\\n    <footer className=\\\"card-footer\\\">\\n      <div className=\\\"card-footer-item\\\">\\n        <span className=\\\"card__likes\\\"> {likes} &nbsp;</span>\\n        <BookmarkLike {...{ id, likes }} />\\n      </div>\\n      <a href=\\\"#\\\" className=\\\"card-footer-item\\\">\\n        <i\\n          className=\\\"fas fa-edit\\\"\\n          onClick={e => {\\n            e.preventDefault();\\n            onUpdate(id);\\n          }}\\n        />\\n      </a>\\n      <a href=\\\"#\\\" className=\\\"card-footer-item \\\">\\n        <BookmarkDelete {...{ id }} />\\n      </a>\\n    </footer>\\n  </div>\\n);\\n\\nexport default BookmarkItem;\\n\",\"import React from \\\"react\\\";\\n\\nimport Loading from \\\"./Loading\\\";\\nimport BookmarkItem from \\\"./BookmarkItem\\\";\\nimport { Query } from \\\"react-apollo\\\";\\nimport { Link } from \\\"react-router-dom\\\";\\nimport { GET_BOOKMARKS } from \\\"../queries\\\";\\n\\nconst BookmarkList = props => (\\n  <Query query={GET_BOOKMARKS}>\\n    {({ loading, error, data }) => {\\n      if (loading) return <Loading />;\\n      if (error) return `Error! ${error.message}`;\\n      const { bookmarks } = data;\\n\\n      return (\\n        <React.Fragment>\\n          <div className=\\\"cards\\\">\\n            {bookmarks &&\\n              bookmarks.map(bookmark => (\\n                <BookmarkItem\\n                  key={bookmark.id}\\n                  {...bookmark}\\n                  onUpdate={id => {\\n                    props.history.push(`/bookmark/${id}`);\\n                  }}\\n                />\\n              ))}\\n          </div>\\n          <Link to=\\\"/bookmarks/new\\\">\\n            <i\\n              className=\\\"fas fa-plus-circle fa-2x has-text-success\\\"\\n              style={{\\n                float: \\\"right\\\"\\n              }}\\n            />\\n          </Link>\\n        </React.Fragment>\\n      );\\n    }}\\n  </Query>\\n);\\n\\nexport default BookmarkList;\\n\",\"import React from \\\"react\\\";\\nimport Container from \\\"./Container\\\";\\nimport BookmarkCreate from \\\"./BookmarkCreate\\\";\\nimport BookmarkUpdate from \\\"./BookmarkUpdate\\\";\\nimport BookmarkList from \\\"./BookmarkList\\\";\\nimport { HashRouter, Route } from \\\"react-router-dom\\\";\\n\\nconst App = () => {\\n  return (\\n    <HashRouter>\\n      <Container>\\n        <Route exact path=\\\"/\\\" component={BookmarkList} />\\n        <Route exact path=\\\"/bookmarks/new\\\" component={BookmarkCreate} />\\n        <Route\\n          exact\\n          path=\\\"/bookmark/:id\\\"\\n          render={props => {\\n            return <BookmarkUpdate bookmark={{ id: props.match.params.id }} />;\\n          }}\\n        />\\n      </Container>\\n    </HashRouter>\\n  );\\n};\\n\\nexport default App;\\n\",\"import \\\"./styles.scss\\\";\\n\\nimport { InMemoryCache } from \\\"apollo-cache-inmemory\\\";\\n\\nimport React from \\\"react\\\";\\nimport ReactDOM from \\\"react-dom\\\";\\n\\nimport ApolloClient from \\\"apollo-boost\\\";\\nimport { ApolloProvider } from \\\"react-apollo\\\";\\nimport App from \\\"./components/App\\\";\\nconst URI = \\\"https://apollo-graphql-todo.glitch.me/graphql\\\"; //replace with your own graphql URI\\n\\nconst cache = new InMemoryCache({\\n  dataIdFromObject: object => object.id || null\\n});\\n\\nconst client = new ApolloClient({\\n  cache,\\n  uri: URI\\n});\\n\\nconst Root = () => {\\n  return (\\n    <ApolloProvider client={client}>\\n      <App />\\n    </ApolloProvider>\\n  );\\n};\\n\\nReactDOM.render(<Root />, document.querySelector(\\\"#root\\\"));\\n\"]}","code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{46:function(e,t,a){e.exports=a(79)},47:function(e,t,a){},79:function(e,t,a){\"use strict\";a.r(t);a(47);var n=a(82),r=a(1),o=a.n(r),c=a(35),i=a.n(c),l=a(44),u=a(7),m=a(81),s=function(){return o.a.createElement(\"nav\",{className:\"level\"},o.a.createElement(\"ul\",{className:\"level-left\"},o.a.createElement(\"li\",{className:\"level-item\"},o.a.createElement(m.a,{to:\"/\"},\"Home\")),o.a.createElement(\"li\",{className:\"level-item\"},o.a.createElement(m.a,{to:\"/bookmarks/new\"},\"Create\"))))},d=function(e){var t=e.children;return o.a.createElement(\"div\",{className:\"container\"},o.a.createElement(s,null),t)},k=a(45),f=a(11),E=a(32),b=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).classList,t=Object(r.useState)(null),a=Object(f.a)(t,2),n=a[0];return[a[1],function(t){var a,r;n.disabled=t,t?(a=n.classList).add.apply(a,Object(E.a)(e)):(r=n.classList).remove.apply(r,Object(E.a)(e))}]},p=a(13),v=a(10),h=a.n(v);function N(){var e=Object(p.a)([\"\\n  mutation UpdateBookmark($id: ID!, $content: String!) {\\n    updateBookmark(id: $id, content: $content) {\\n      id\\n    }\\n  }\\n\"]);return N=function(){return e},e}function y(){var e=Object(p.a)([\"\\n  mutation BookmarkLike($id: ID) {\\n    likeBookmark(id: $id) {\\n      id\\n      likes\\n    }\\n  }\\n\"]);return y=function(){return e},e}function g(){var e=Object(p.a)([\"\\n  query Bookmark($id: ID!) {\\n    bookmark(id: $id) {\\n      id\\n      content\\n      likes\\n    }\\n  }\\n\"]);return g=function(){return e},e}function j(){var e=Object(p.a)([\"\\n  mutation DeleteBookmark($ID: ID) {\\n    deleteBookmark(id: $ID) {\\n      id\\n    }\\n  }\\n\"]);return j=function(){return e},e}function O(){var e=Object(p.a)([\"\\n  {\\n    bookmarks {\\n      id\\n      content\\n      likes\\n    }\\n  }\\n\"]);return O=function(){return e},e}function B(){var e=Object(p.a)([\"\\n  mutation AddBookmark($content: String!) {\\n    addBookmark(content: $content) {\\n      id\\n      content\\n    }\\n  }\\n\"]);return B=function(){return e},e}var w=h()(B()),_=h()(O()),q=h()(j()),$=h()(g()),C=h()(y()),D=h()(N()),x=function(e){var t=b({classList:[\"is-loading\",\"no-border\"]}),a=Object(f.a)(t,2),n=a[0],c=a[1],i=Object(r.useState)(\"\"),l=Object(f.a)(i,2),m=l[0],s=l[1];return o.a.createElement(u.Mutation,{mutation:w,update:function(e,t){var a=t.data.addBookmark;try{var n=e.readQuery({query:_}).bookmarks;e.writeQuery({query:_,data:{bookmarks:n.concat([Object(k.a)({},a,{likes:0})])}})}catch(r){}finally{c(!1)}}},function(e){return o.a.createElement(\"div\",{className:\"bookmark_form\"},o.a.createElement(\"h4\",{className:\"bookmark_form__title\"},\"Add Bookmark\"),o.a.createElement(\"form\",{onSubmit:function(t){t.preventDefault(),c(!0),e({variables:{content:m}}),s(\"\")}},o.a.createElement(\"div\",{className:\"field\"},o.a.createElement(\"div\",{className:\"control\"},o.a.createElement(\"input\",{autoCorrect:\"false\",autoCapitalize:\"false\",className:\"input\",type:\"text\",onChange:function(e){return s(e.target.value)}}))),o.a.createElement(\"button\",{className:\"button is-light\",type:\"submit\",ref:n},\"Create\")))})},Q=function(){return o.a.createElement(\"a\",{className:\"button is-loading\"},\"Loading\")},I=function(e){var t=e.bookmark,a=b({classList:[\"is-loading\",\"no-border\"]}),n=Object(f.a)(a,2),c=n[0],i=n[1],l=Object(r.useState)(\"\"),m=Object(f.a)(l,2),s=m[0],d=m[1];return o.a.createElement(u.Query,{query:$,variables:{id:t.id}},function(e){var t=e.loading,a=e.error,n=e.data.bookmark;return t?o.a.createElement(Q,null):a?\"Error!: \".concat(a):o.a.createElement(u.Mutation,{mutation:D,refetchQueries:[{query:_}],update:function(){return i(!1)}},function(e){return o.a.createElement(\"div\",{className:\"bookmark_form\"},o.a.createElement(\"h4\",{className:\"bookmark_form__title\"},\"Update Bookmark\"),o.a.createElement(\"form\",{onSubmit:function(t){t.preventDefault(),e({variables:{id:n.id,content:s}}),i(!0),n.content=s,d(\"\")}},o.a.createElement(\"div\",{className:\"field\"},o.a.createElement(\"div\",{className:\"control\"},o.a.createElement(\"input\",{autoCorrect:\"false\",autoCapitalize:\"false\",className:\"input\",type:\"text\",placeholder:n.content,onChange:function(e){return d(e.target.value)}}))),o.a.createElement(\"button\",{className:\"button is-light\",ref:c,type:\"submit\"},\"Update Bookmark\")))})})},L=function(e){var t=e.id;return o.a.createElement(u.Mutation,{mutation:q,update:function(e,a){a.data.deleteBookmark;var n=e.readQuery({query:_}).bookmarks;e.writeQuery({query:_,data:{bookmarks:n.filter(function(e){return e.id!==t})}})}},function(e){return o.a.createElement(\"i\",{className:\"delete\",onClick:function(a){a.target.classList.add(\"button\",\"is-loading\",\"no-border\"),e({variables:{ID:t}})}},\"delete\")})},S=function(e){var t=e.id,a=e.likes;return o.a.createElement(u.Mutation,{mutation:C,update:function(e,a){var n=a.data.likeBookmark,r=e.readQuery({query:_});r.bookmarks.forEach(function(e){e.id===t&&(e.likes=n.likes)}),e.writeQuery({query:_,data:r})}},function(e){return o.a.createElement(\"i\",{className:\"fas fa-heart has-text-danger\",onClick:function(){e({variables:{id:t},optimisticResponse:{__typename:\"Mutation\",likeBookmark:{id:t,__typename:\"Bookmark\",likes:a+1}}})}})})},M=function(e){var t=e.id,a=e.likes,n=e.content,r=e.onUpdate;return o.a.createElement(\"div\",{className:\"card\"},o.a.createElement(\"header\",{className:\"card-header\"},o.a.createElement(\"p\",{className:\"card-header-title\"},\"Bookmark\")),o.a.createElement(\"div\",{className:\"card-content\"},o.a.createElement(\"div\",{className:\"content\"},n)),o.a.createElement(\"footer\",{className:\"card-footer\"},o.a.createElement(\"div\",{className:\"card-footer-item\"},o.a.createElement(\"span\",{className:\"card__likes\"},\" \",a,\" \\xa0\"),o.a.createElement(S,{id:t,likes:a})),o.a.createElement(\"a\",{href:\"#\",className:\"card-footer-item\"},o.a.createElement(\"i\",{className:\"fas fa-edit\",onClick:function(e){e.preventDefault(),r(t)}})),o.a.createElement(\"a\",{href:\"#\",className:\"card-footer-item \"},o.a.createElement(L,{id:t}))))},U=function(e){return o.a.createElement(u.Query,{query:_},function(t){var a=t.loading,n=t.error,r=t.data;if(a)return o.a.createElement(Q,null);if(n)return\"Error! \".concat(n.message);var c=r.bookmarks;return o.a.createElement(o.a.Fragment,null,o.a.createElement(\"div\",{className:\"cards\"},c&&c.map(function(t){return o.a.createElement(M,Object.assign({key:t.id},t,{onUpdate:function(t){e.history.push(\"/bookmark/\".concat(t))}}))})),o.a.createElement(m.a,{to:\"/bookmarks/new\"},o.a.createElement(\"i\",{className:\"fas fa-plus-circle fa-2x has-text-success\",style:{float:\"right\"}})))})},A=a(84),z=a(83),F=function(){return o.a.createElement(A.a,null,o.a.createElement(d,null,o.a.createElement(z.a,{exact:!0,path:\"/\",component:U}),o.a.createElement(z.a,{exact:!0,path:\"/bookmarks/new\",component:x}),o.a.createElement(z.a,{exact:!0,path:\"/bookmark/:id\",render:function(e){return o.a.createElement(I,{bookmark:{id:e.match.params.id}})}})))},J=new n.a({dataIdFromObject:function(e){return e.id||null}}),H=new l.a({cache:J,uri:\"https://apollo-graphql-todo.glitch.me/graphql\"}),P=function(){return o.a.createElement(u.ApolloProvider,{client:H},o.a.createElement(F,null))};i.a.render(o.a.createElement(P,null),document.querySelector(\"#root\"))}},[[46,2,1]]]);","extractedComments":[]}